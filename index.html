<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Aramex Tracking</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
:root{
  --bg:#b30000;
  --text:#ffffff;
  --card:rgba(0,0,0,.25);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:var(--bg);
  color:var(--text);
}
.container{max-width:920px;margin:30px auto;padding:20px}
.logo{text-align:center;font-size:36px;font-weight:900;letter-spacing:3px}
.card{
  background:var(--card);
  padding:22px;
  border-radius:14px;
  margin-top:20px;
  box-shadow:0 10px 30px rgba(0,0,0,.4);
}
input,button{
  width:100%;
  padding:11px;
  border:none;
  border-radius:8px;
  margin-top:10px;
  font-size:15px;
}
button{background:#000;color:#fff;font-weight:800;cursor:pointer}
.loader{display:none;margin-top:15px;text-align:center}
.bar{height:8px;background:rgba(255,255,255,.2);border-radius:10px;overflow:hidden;margin-top:8px}
.bar i{display:block;height:100%;width:0;background:#fff;transition:width 2s linear}
.result{display:none;margin-top:18px;padding:18px;border-radius:12px;background:rgba(0,0,0,.25)}
.line{opacity:0;transform:translateY(8px);transition:.4s;margin:8px 0}
.line.show{opacity:1;transform:none}
.blink{
  display:inline-block;
  padding:4px 10px;
  background:red;
  border-radius:5px;
  font-weight:900;
  animation:blink 1s infinite;
}
@keyframes blink{
  0%{opacity:1}
  50%{opacity:.35}
  100%{opacity:1}
}
#map{height:320px;border-radius:12px;margin-top:14px}
.footer{text-align:center;font-size:12px;margin-top:16px;opacity:.8}
</style>
</head>

<body>
<div class="container">

  <div class="logo">Aramex</div>

  <div class="card">
    <h3>Track Your Shipment</h3>
    <input id="code" placeholder="Enter tracking number">
    <button onclick="track()">TRACK</button>

    <div class="loader" id="loader">
      Processing request…
      <div class="bar"><i id="prog"></i></div>
    </div>

    <div class="result" id="result">
      <h3>Shipment Details</h3>
      <div id="details"></div>

      <h3 style="margin-top:16px">Shipment Route</h3>
      <div id="map"></div>
    </div>

    <div class="footer">
      Aramex / Tracking Interface –  2026
    </div>
  </div>

</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
const SHIPMENTS = {
  "XX-UK-92592": {
    details: [
      "<b>Status:</b> <span class='blink'>ON HOLD</span>",
      "<b>Sender Name:</b> Bien M Slander",
      "<b>Sender Home Address:</b> ohio united states",
      "<b>Sender Adress:</b> Yemen",
      "<b>Final Destination:</b> Kitwe, Zambia",
      "<b>Quantity:</b> 1",
      "<b>Weight:</b> 14.2 kg",
      "<hr>",
      "<b>Departure Time:</b> 10:43 AM 29 january 2026",
      "<b>Current location:</b> South Africa",
      "<b>Receiver Name:</b> Emmanuel Kapenda",
      "<b>Receiver Address:</b><br>House 1027, Kawama<br>Kitwe, Zambia",
      "<b>Receiver Phone:</b> +260 776 207 825"
    ],
    route: [
      [15.3694, 44.1910],        // Sana'a, Yemen
      [-26.2041, 28.0473],       // Johannesburg, South Africa
      [-12.8024, 28.2132]        // Kitwe, Zambia
    ]
  },

  "C14952X": {
    details: [
      "<b>Status:</b> <span class='blink'>ON HOLD</span>",
      "<b>Sender Name:</b> Ariana Lemus",
      "<b>Sender Address:</b> Yemen",
      "<b>sender Home Adress:</b> ohio united states",
      "<b>Final Destination:</b> Francistown, Botswana",
      "<b>Quantity:</b> 1",
      "<b>Current location:</b> South Africa",
      "<b>Weight:</b> 12.6 kg",
      "<hr>",
      "<b>Receiver Name:</b> Keatlaretse Damien Modise",
      "<b>Receiver Address:</b><br>Tati Siding, House 6345<br>Mmoroso Ward<br>Francistown, Botswana",
      "<b>Receiver Phone:</b> +267 78 755 129"
    ],
    route: [
      [15.3694, 44.1910],        // Yemen
      [-21.1700, 27.5079]        // Francistown, Botswana
    ]
  }
};

let map;

function track(){
  const code = document.getElementById("code").value.trim().toUpperCase();
  const loader = document.getElementById("loader");
  const prog = document.getElementById("prog");
  const result = document.getElementById("result");
  const details = document.getElementById("details");

  result.style.display = "none";
  details.innerHTML = "";
  loader.style.display = "block";
  prog.style.width = "0%";

  setTimeout(() => prog.style.width = "100%", 20);

  setTimeout(() => {
    loader.style.display = "none";

    if(!SHIPMENTS[code]){
      alert("❌ Invalid Tracking Number");
      return;
    }

    result.style.display = "block";
    SHIPMENTS[code].details.forEach((d,i)=>{
      setTimeout(()=>{
        const div=document.createElement("div");
        div.className="line";
        div.innerHTML=d;
        details.appendChild(div);
        setTimeout(()=>div.classList.add("show"),20);
      },i*250);
    });

    initMap(SHIPMENTS[code].route, code);
  },2000);
}

function initMap(points, code){
  if(map){map.remove();}
  map=L.map('map').setView([0,25],3);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{
    attribution:'&copy; OpenStreetMap'
  }).addTo(map);

  // Add markers with popups
  if(code === "XX-UK-92592"){
    L.marker([15.3694, 44.1910]).addTo(map).bindPopup("Origin: Yemen");
    L.marker([-26.2041, 28.0473]).addTo(map).bindPopup("Transit Hub: South Africa");
    L.marker([-12.8024, 28.2132]).addTo(map).bindPopup("Final Destination: Kitwe, Zambia");
  } else if(code === "C14952X"){
    L.marker([15.3694, 44.1910]).addTo(map).bindPopup("Origin: Yemen");
    L.marker([-21.1700, 27.5079]).addTo(map).bindPopup("Final Destination: Francistown, Botswana");
  }

  const line=L.polyline(points,{color:'red',weight:4,className:'route'}).addTo(map);
  map.fitBounds(line.getBounds());
}
</script>

</body>
</html>
